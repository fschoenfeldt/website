---
title: 👨🏻‍🚀 Manager
layout: layouts/manager.njk
eleventyExcludeFromCollections: true
---

<div class="wrapper">
    <div class="modal" x-show="$store.manager.modalVisible" @showaddmodal.window="$store.manager.showModal">
        <div class="modal__content" @click.outside="$store.manager.modalVisible = false">
            <div class="w-full flex items-center text-xl space-x-2 h-full">
                <img x-ref="modalIcon" src=""/>
                <div class="text-cyan-200 font-sans" x-ref="modalTitle"></div>
                <button label="close" 
                        class="font-sans p-2 border-2 border-red-400 !text-red-400 
                               font-bold flex items-center justify-center h-12 w-12 shrink-0 !ml-auto" 
                        @click="$store.manager.modalVisible = false">
                    ✕
                </button>
            </div>

            <form class="flex flex-col space-y-4" @submit.prevent="$store.manager.handleModal">
                <label class="font-sans text-cyan-200 text-lg" 
                       for="number_input">
                       value:
                </label>
                <input x-ref="name" type="text" hidden/>
                <input class="text-3xl font-sans bg-transparent border border-cyan-200
                            bg-slate-700 p-2 text-cyan-200 text-center" 
                       x-ref="input" 
                       type="number" 
                       name="value" 
                       id="number_input"
                       min="1"
                       required>
                <button class="font-sans p-2 border">Submit</button>
            </form>

        </div>
    </div>
    <header class="w-full bg-cyan-200 font-sans uppercase font-bold 
                   tracking-wider text-xl text-center py-4 mb-2">
        Space Haven Manager
    </header>
    <ul class="ressources">
        <template x-for="r in $store.manager.ressources">
            <template x-if="r.visible || $store.manager.changeVisibility">
                <li class="ressources__item" :class="{ 'ressources__item--change' : !r.visible}" @click="r.visible && !$store.manager.changeVisibility ? $dispatch('showaddmodal', {name: r.name}) : $store.manager.toggleRessourceVisibility(r)">
                    <div class="py-2 text-center" :class="{ 'mt-auto' : !$store.manager.changeVisibility && r.priceHistory.length}">
                        <img class="inline" :src="r.path"/>
                        <div x-text="r.name"></div>
                    </div>
                    <template x-if="r.priceHistory.length && !$store.manager.changeVisibility" x-data="{logExpanded: false}">
                        <ul class="ressources__item__priceinfo">
                            <li class="w-full flex justify-between items-center px-2 py-0.5">
                                <div class="" x-text="r.min && `↓${r.min}`"></div>
                                <div class="" x-text="r.average && `⌀${r.average}`"></div>
                                <div class="!text-amber-200 text-lg font-bold" x-text="r.max && `↑${r.max}`"></div>
                            </li>
                            <template x-if="logExpanded">
                                <template x-for="h in r.priceHistory">
                                    <li x-text="h.value"></li>
                                </template>
                            </template>
                        </ul>
                    </template>
                </li>
            </template>
        </template>
        <li class="ressources__item ressources__item--add" @click="$store.manager.changeVisibility = !$store.manager.changeVisibility" x-text="$store.manager.changeVisibility ? '-' : '+'"></li>
    </ul>
    <footer class="w-full left-0 absolute bottom-0 text-cyan-400 
                   font-sans flex gap-2 p-2 justify-end">
        Made with 💙 in Hamburg, Germany.
        <a
            target="_blank"
            rel="noopener noreferrer"
            href="https://github.com/fschoenfeldt/website/tree/feature/manager"
            class="external fill-cyan-400 text-cyan-400 hover:text-cyan-200 font-sans">
        Source Code
        <svg
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            ariahidden="true"
            focusable="false"
            x="0px"
            y="0px"
            viewbox="0 0 100 100"
            width="15"
            height="15">
                <path d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path>
                <polygon points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon>
            </svg>
        </a>
    </footer>
</div>